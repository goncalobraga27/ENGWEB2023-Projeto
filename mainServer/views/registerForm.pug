extends layout

block append head
	title Adicionar User

block content
	.w3-card-4
		header.w3-container.w3-teal
			.w3-bar.w3-border-bottom
				.w3-bar-item
					h3 #[b Inquirição de Génere - Trabalho Prático de EngWeb2023]
				a.w3-bar-item.w3-button(href="/home" style="position:relative; top:5px;")
					.w3-cell-row
						.w3-cell
							i.fa.fa-solid.fa-house(style="color: #000000;")
						.w3-cell(style="width:80%")
							h6 #[b Início]
				a.w3-bar-item.w3-button(href="/retrieveAll" style="position:relative; top:5px;")
					.w3-cell-row
						.w3-cell
							i.fa.fa-solid.fa-folder-open(style="color: #000000;")
						.w3-cell(style="width:84%")
							h6 #[b Registos]
				if type == "Admin"	
					a.w3-bar-item.w3-button(href="/processos/registo" style="position:relative; top:5px;")
						.w3-cell-row
							.w3-cell
								i.fa.fa-solid.fa-file-circle-plus(style="color: #000000;")
							.w3-cell(style="width:84%")
								h6 &nbsp; #[b Adicionar Registo]
				input.w3-bar-item.w3-input.w3-border(type="text" id="pesquisa_rapida" name="quickSearch" style="position:relative; left:10px; top:15px;" placeholder="Pesquisa Rápida (ENTER)")
			h3 &nbsp;&nbsp;&nbsp; #[b Criar Novo Utilizador]
		form.w3-container(action="/register" method="POST")
				fieldset 
						legend Insira a informação:
						label #[b > Nome] 
						input.w3-input.w3-border(type="text" name="name")
						label #[b > Username]
						input.w3-input.w3-border(type="text" name="username")
						label #[b > Password]
						.w3-cell-row
							.w3-cell
								input.w3-input.w3-border(type="password" name="password" id="currPass")
							.w3-cell
								i.fa.fa-sharp.fa-regular.fa-eye.fa-2xs(style="color: #97a0af;margin-left: -30px;cursor: pointer;" onclick="showPass()")
						label #[b > Nível de Utilizador]
						select.w3-select.w3-border(name="level")
								option("") Escolha um nível...
												option(value="Admin") Admin
												option(value="User") User
				.w3-panel
					.w3-cell-row
						.w3-cell              
							button.w3-btn.w3-pale-blue.w3-mb-2.w3-border.w3-border-black.w3-hover-blue(type="submit")
								.w3-cell
									i.fa.fa-sharp.fa-solid.fa-user-plus.fa-lg
								.w3-cell(style="width:84%")
									h5  &nbsp;&nbsp;#[b Criar]
						.w3-cell(style="width:91%")
							a.w3-btn.w3-khaki.w3-mb-2.w3-hover-yellow.w3-border.w3-border-black(type="submit" href="/adminUsers")
									.w3-cell
										i.fa.fa-solid.fa-arrow-left.fa-lg
									.w3-cell(style="width:84%")
										h5  &nbsp;&nbsp;#[b Voltar Atrás]
		footer.w3-container.w3-teal.w3-center.w3-center
			h5 Gonçalo Braga, João Loureiro e Simão Barroso | Engenharia Web 2023 - Universidade do Minho
			h5 Generated for TP_EngWeb2023 in #{d}
		script.
			function showPass() {
				var x = document.getElementById("currPass");
				if (x.type === "password") {
					x.type = "text";
				} else {
					x.type = "password";
				}
			}
			//pesquisa_rapida
			document.getElementById('pesquisa_rapida').addEventListener('keyup', function(event) {
				if (event.keyCode === 13) {
					event.preventDefault();
					var input = document.getElementById('pesquisa_rapida');
					var p = input.value;
					window.location.href = '/pesquisaRapida/' + p;
				}
			});